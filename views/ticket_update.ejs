<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous"
/>
<link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    crossorigin="anonymous"
/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
    crossorigin="anonymous"
/>
        <!-- <link rel="stylesheet" href="logReg.css"/> -->
        <style>
            @import url("https://fonts.googleapis.com/css2?family=Encode+Sans+SC:wght@100;400;500;600;700&display=swap");
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    /*height: 100vh;*/
    /*background-color: #6a5acd;*/
    background-image: url(https://images.vexels.com/media/users/3/74080/raw/f8f5b20089946bd529b189d70eef2936-modern-blue-abstract-squares-background.jpg);
    font-family: "Encode Sans SC", sans-serif;
}

.content {
    place-items: center;
    width: 100vw;
    height: 100vh;
    display: grid;
}

.main {
    width: 500px;
    max-width: 90%;
    text-align: center;
    background-color: white;
    padding: 25px 20px;
    border-radius: 10px;
    box-shadow: 0px 0px 20px;
}

.main h1 {
    font-size: 30px;
    color: rgb(26, 25, 25);
    margin: 0 0 25px 0;
}

.main form input {
    width: 95%;
    padding: 15px;
    border: 0 10px;
    margin: 10px 5px;
    border-radius: 8px;
    place-items: center;
}

.main form select {
    width: 95%;
    padding: 15px;
    border: 0 10px;
    margin: 10px 5px;
    border-radius: 8px;
    place-items: center;
}

.main form input {
    width: 95%;
    padding: 15px;
    border: 0 10px;
    margin: 10px 5px;
    border-radius: 8px;
    place-items: center;
}

.button-blue {
    background-color: #0d6efd;
    padding: 15px;
    width: 95%;
    border: none;
    color: white;
    margin-top: 20px;
    border-radius: 8px;
    cursor: pointer;
}

.button-blue:hover {
    opacity: 0.6;
}

.main form input:focus,
.main form button:focus,
.main form select:focus,
.main form checkbox:focus {
    outline: none;
}

.error {
    color: #cc0033;
    font-size: 13px;
    font-weight: bold;
    float: left;
    line-height: 20px;
    text-shadow: 1px 1px rgba(250, 250, 250, 0.3);
    position: relative;
    left: 20px;
}

label {
    float: left;
    position: relative;
    left: 10px;
    font-weight: 400;
}

#regLink {
    color: #4368d2;
    text-decoration: none;
}

#reglink:hover {
    opacity: 0.6;
    text-decoration: underline;
}

form-group {
    margin-bottom: 0px !important;
}

/* Customize the label (the cont) */
.cont {
    display: block;
    position: relative;
    margin-bottom: 12px;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

/* Hide the browser's default checkbox */
.cont input {
    position: absolute;
    opacity: 0;
    cursor: pointer;
    height: 0;
    width: 0;
}

/* Create a custom checkbox */
.checkmark {
    position: absolute;
    left: 40px !important;
    top: 0;
    right: 0;
    height: 25px;
    width: 25px;
    background-color: #eee;
}

/* On mouse-over, add a grey background color */
.cont:hover input ~ .checkmark {
    background-color: #ccc;
}

/* When the checkbox is checked, add a blue background */
.cont input:checked ~ .checkmark {
    background-color: #2196f3;
}

/* Create the checkmark/indicator (hidden when not checked) */
.checkmark:after {
    content: "";
    position: absolute;
    display: none;
}

/* Show the checkmark when checked */
.cont input:checked ~ .checkmark:after {
    display: block;
}

/* Style the checkmark/indicator */
.cont .checkmark:after {
    left: 9px;
    top: 6px;
    width: 5px;
    height: 10px;
    border: solid white;
    border-width: 0 3px 3px 0;
    -webkit-transform: rotate(45deg);
    -ms-transform: rotate(45deg);
    transform: rotate(45deg);
}

select ::placeholder {
    font-weight: lighter;
}

.form-group.was-validated{
    margin: 0px !important;
}

        </style>
        <title>Update Ticket</title>
    </head>
    <body>
        <div class="content">
            <div class="main" style="margin: 20px !important">
                <h1 style="margin-bottom: 0px !important">
                    <strong>Tickets</strong>
                </h1>
                <form
                    class="needs-validation"
                    action="/ticket_update/<%= ticket.id %>"
                    method="POST"
                    name="myform"
                >
                    <div class="form-group">
                        <label class="form-label" for="titulo">Titulo:</label>
                        <input
                            class="form-control"
                            id="titulo"
                            type="name"
                            name="Titulo"
                            placeholder="Encomenda não enviada"
                            <% if(ticket.Titulo != undefined || ticket.Titulo != "") { %>
                            value="<%= ticket.Titulo %>"
                            <% } %>
                        >
                    </div>
                    <div class="form-group was-validated">
                        <label class="form-label" for="descricao"
                            >Descrição:</label
                        >
                        <input
                            class="form-control"
                            id="descricao"
                            type="name"
                            name="Descricao"
                            placeholder="Uma pergunta pertinente"
                            value="<%= ticket.Descricao %>"
                            required
                        />
                        <div class="invalid-feedback" style="font-weight: bold">
                            *Please enter your description
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="resposta"
                            >Resposta:</label
                        >
                        <input
                            class="form-control"
                            id="resposta"
                            type="name"
                            name="Resposta"
                            placeholder="Uma resposta pertinente"
                            <% if(ticket.Resposta != undefined || ticket.Resposta != ""){ %>
                                value="<%= ticket.Resposta %>"
                            <% } %>
                            <% if(ticket.Resposta == undefined || ticket.Resposta == ""){ %>
                            <% } %>
                        >
                    </div>
                    <div class="form-group was-validated">
                        <label for="validationCustom04" class="form-label"
                            >Agente:</label
                        >
                        <select
                            style="
                                position: relative;
                                right: 5px;
                                padding: 7px;
                                margin-top: 0px;
                            "
                            id="validationCustom04"
                            type="name"
                            name="Agente"
                        >
                            <option
                                selected
                                <% if(ticket.Agente == undefined || ticket.agente == ""){ %>
                                disabled
                                value=""
                                <% } %>
                                style="font-weight: lighter"
                            >
                                <% if(ticket.Agente != undefined){ %>
                                <%= ticket.Agente.email %>
                                <% } %>
                                <% if(ticket.Agente == undefined){ %>
                                Choose an agent...
                                <% } %>
                            </option>
                            <% agentes.forEach(agente => { %>
                            <% if(ticket.Agente != agente){ %>
                            <option style="font-weight: lighter">
                                <%= agente.email %>
                            </option>
                            <% } %>
                            <% }) %>
                            <% if(ticket.Agente != undefined){ %>
                            <option style="font-weight: lighter" value="">
                                Pool partilhada
                            </option>
                            <% } %>
                        </select>
                    </div>
                    <button
                        class="button-blue"
                        style="margin-top: 0px !important"
                    >
                        SUBMIT
                    </button>
                </form>
            </div>
        </div>
    </body>
</html>
