<!DOCTYPE html>
<html lang="en">
    <head>
        <%- include('./partials/head') %>
        <link rel="stylesheet" href="logReg.css" />
        <title>Tickets</title>
    </head>
    <body>
        <%- include('./partials/nav_header_agente') %>
        <div class="content">
            <div class="main" style="margin: 20px !important">
                <h1 style="margin-bottom: 0px !important">
                    <strong>Tickets</strong>
                </h1>
                <form
                    class="needs-validation"
                    action="/tickets_agent"
                    method="POST"
                    name="myform"
                >
                    <div class="form-group">
                        <label class="form-label" for="titulo">Titulo:</label>
                        <input
                            class="form-control"
                            id="titulo"
                            type="name"
                            name="Titulo"
                            placeholder="Encomenda não enviada"
                        />
                    </div>
                    <div class="form-group was-validated">
                        <label class="form-label" for="descricao"
                            >Descrição:</label
                        >
                        <input
                            class="form-control"
                            id="descricao"
                            type="name"
                            name="Descricao"
                            placeholder="Uma pergunta pertinente"
                            required
                        />
                        <div class="invalid-feedback" style="font-weight: bold">
                            *Please enter your description
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="resposta"
                            >Resposta:</label
                        >
                        <input
                            class="form-control"
                            id="resposta"
                            type="name"
                            name="Resposta"
                            placeholder="Uma resposta pertinente"
                        />
                    </div>
                    <div class="form-group was-validated">
                        <label for="validationCustom04" class="form-label"
                            >Agente:</label
                        >
                        <select
                            style="
                                position: relative;
                                right: 5px;
                                padding: 7px;
                                margin-top: 0px;
                            "
                            id="validationCustom04"
                            type="name"
                            name="Agente"
                        >
                            <option
                                selected
                                disabled
                                value=""
                                style="font-weight: lighter"
                            >
                                Choose an agent...
                            </option>
                            <% agentes.forEach(agente => { %>
                            <option style="font-weight: lighter">
                                <%= agente.email %>
                            </option>
                            <% }) %>
                            <option style="font-weight: lighter" value="">
                                Pool partilhada
                            </option>
                        </select>
                    </div>
                    <label class="cont">
                        FAQ:
                        <input type="checkbox" name="FAQ" checked="checked" value="checked"/>
                        <span class="checkmark"></span>
                    </label>
                    <br />
                    <br />
                    <div class="form-group was-validated">
                        <label for="validationCustom04" class="form-label"
                            >Categoria:</label
                        >
                        <select
                            style="
                                position: relative;
                                right: 5px;
                                padding: 7px;
                                margin-top: 0px;
                            "
                            id="validationCustom04"
                            type="name"
                            name="Categoria"
                        >
                            <option
                                selected
                                disabled
                                value=""
                                style="font-weight: lighter"
                            >
                                Choose an Category...
                            </option>
                            <option style="font-weight: lighter">Enviar</option>
                            <option style="font-weight: lighter">
                                Receber
                            </option>
                            <option style="font-weight: lighter">
                                Pagamentos e Portagens
                            </option>
                            <option style="font-weight: lighter">
                                Transferência de dinheiro
                            </option>
                            <option style="font-weight: lighter">
                                Importações e desenfandegamento
                            </option>
                        </select>
                    </div>
                    <button
                        class="button-blue"
                        style="margin-top: 0px !important"
                    >
                        SUBMIT
                    </button>
                </form>
            </div>
        </div>
        <%- include('./partials/nav_footer') %>
        <script type="text/javascript">
            var firstJavaScriptCheckbox = document.getElementsByName("FAQ")[0];
            var firstJavaScriptSelect =
                document.getElementsByName("Categoria")[0];
            (function () {
                // É só para garantir que as categorias são selecionadas após a faq ser checkada
                firstJavaScriptCheckbox.addEventListener("click", () => {
                    if (this.checked) {
                        firstJavaScriptSelect.setAttribute("disabled", "");
                        firstJavaScriptCheckbox.setAttribute("value", "");
                    } else {
                        firstJavaScriptSelect.toggleAttribute("disabled");
                        firstJavaScriptCheckbox.setAttribute("value", "checked");
                    }
                });
            })();
        </script>
    </body>
</html>
